---
title: RSS-简易信息聚合
tags: [other]
---

RSS和Atom是一种信息聚合的技术，都是为了提供一种更为方便、高效的互联网信息的发布和共享，用更少的时间分享更多的信息。

### 1、什么是RSS
RSS（全称Really Simple Syndication）简易信息聚合，RSS是一种用于共享新闻和其他Web内容的数据交换规范。它是一系列的规范的组合，采用XML格式（信息以xml形式发布）。目前国内RSS应用最多的是在新闻网站和博客网站上。

作用：用户们可以使用 RSS 聚合器来更快地检查您的网站更新，通知用户网站更新内容。

### 2. rss语法
```
<?xml version="1.0" encoding="ISO-8859-1" ?>
<rss version="2.0">

<channel>
  <title>W3Schools Home Page</title>
  <link>http://www.w3schools.com</link>
  <description>Free web building tutorials</description>
  <item>
    <title>RSS Tutorial</title>
    <link>http://www.w3schools.com/rss</link>
    <description>New RSS tutorial on W3Schools</description>
  </item>
  <item>
    <title>XML Tutorial</title>
    <link>http://www.w3schools.com/xml</link>
    <description>New XML tutorial on W3Schools</description>
  </item>
</channel>

</rss>
```

1）rss元素，标识此文档是一个 RSS 文档的 RSS 声明.

2）channel元素，用于描述 RSS feed，整个channel称为一个feed。

3）每个channel元素可拥有一个或多个item元素。每个item元素可定义 RSS feed 中的一篇文章或 "story"。

注：feed英文意思"向...提供".--Feed：消息来源（英文：web feed、news feed、syndicated feed）是一种资料格式，网站透过它将最新资讯传播给用户。

### 3. rss的验证
在线验证：http://www.feedvalidator.org/

### 4. atom
RSS和ATOM两种订阅方式，两者都是FEED的输出形式。

```
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title type="text">...</title>
<subtitle type="html">...</subtitle>
<updated>...</updated>
<id>...</id>
<link rel="alternate" type="text/html hreflang="en" href="http://example.org/"/>
<copyright>...</copyright>
<generator uri="http://www.example.com/" version="1.0">    ...</generator>
<entry>
    <title>...</title>
    <link rel="alternate" type="text/html"
     href="http://example.org/2005/04/02/atom"/>
    <link rel="enclosure" type="audio/mpeg" length="1337"
     href="http://example.org/audio/ph34r_my_podcast.mp3"/>
    <id>...</id>
    <updated>...</updated>
    <published>...</published>
    <author>
      <name>...</name>
      <uri>...</uri>
      <email>...</email>
    </author>
    <contributor>
      <name>...</name>
      <uri>...</uri>
    </contributor>
    <contributor>
      <name>...</name>
      <uri>...</uri>
    </contributor>
    <content type="xhtml" xml:lang="en"
     xml:base="http://diveintomark.org/">...</content>
</entry>
</feed>
```

### 5. java解析RSS--使用rome解析
使用jar包：jdom-1.0.jar和rome-1.0.jar

实体类代码：

```
/**
 * rss中的条目对象--一个条目就代表一篇文章
 */
public class RssItemModel {
    private String title;  
    private String author;  
    private String uri;  
    private String link;  
    private String description;  
    private Date pubDate;  
    private String type;
    public String getTitle() {
        return title;
    }
    public void setTitle(String title) {
        this.title = title;
    }
    public String getAuthor() {
        return author;
    }
    public void setAuthor(String author) {
        this.author = author;
    }
    public String getUri() {
        return uri;
    }
    public void setUri(String uri) {
        this.uri = uri;
    }
    public String getLink() {
        return link;
    }
    public void setLink(String link) {
        this.link = link;
    }
    public String getDescription() {
        return description;
    }
    public void setDescription(String description) {
        this.description = description;
    }
    public Date getPubDate() {
        return pubDate;
    }
    public void setPubDate(Date pubDate) {
        this.pubDate = pubDate;
    }
    public String getType() {
        return type;
    }
    public void setType(String type) {
        this.type = type;
    }
    @Override
    public String toString() {
        return "RssItemModel [title=" + title + ", author=" + author + ", uri="
                + uri + ", link=" + link + ", description=" + description
                + ", pubDate=" + pubDate + ", type=" + type + "]";
    }  
}
```

解析类：

```
import com.sun.syndication.feed.synd.SyndEntryImpl;
import com.sun.syndication.feed.synd.SyndFeed;
import com.sun.syndication.io.SyndFeedInput;
import com.sun.syndication.io.XmlReader;
/**
 * Rome解析RSS，内部依赖jdom
 */
public class RssReader {
    @SuppressWarnings("unchecked")
    public static List<RssItemModel> getAllRssItemBeanList(String rssUrl){  
        try{  
            URL feedUrl = new URL(rssUrl);  
            SyndFeedInput input = new SyndFeedInput(); 
            XmlReader xmlReader=new XmlReader(feedUrl);
            SyndFeed feed = input.build((Reader)xmlReader);  
          
            List<SyndEntryImpl> entries = feed.getEntries();  
              
            RssItemModel item = null;  
            List<RssItemModel> rssItemBeans = new ArrayList<RssItemModel>();  
              
            for(SyndEntryImpl entry : entries){  
                item = new RssItemModel();  
                item.setTitle(entry.getTitle().trim());  
                item.setType(feed.getTitleEx().getValue().trim());  
                item.setUri(entry.getUri());    
                item.setPubDate(entry.getPublishedDate());  
                item.setAuthor(entry.getAuthor());  
                rssItemBeans.add(item);  
            }  
            return rssItemBeans;  
              
        }catch(Exception e){  
            e.printStackTrace();  
            return null;  
        }  
    } 
    
    public static void main(String[] args) {
        String url="http://news.baidu.com/n?cmd=4&class=civilnews&tn=rss";
        List<RssItemModel> list=getAllRssItemBeanList(url);
        if(null!=list){
            for(RssItemModel item:list){
                System.out.println(item);
            }
        }
    }
}
```

注：rome-1.0.jar内部依赖jdom。

资料：http://www.runoob.com/rss/rss-tutorial.html
