---
title: 单点登录（LDAP）
tags: [cas]
---

参考：http://blog.csdn.net/lifetragedy/article/details/43907559

CAS SSO结合WINDOWS AD域来实现这个WINDOWS-AD域的单点登录。即如何把我们的单点登录和巳有域帐号进行一下结合。

### 安装openldap软件

下载地址：https://www.userbooster.de/en/download/openldap-for-windows.aspx

1）两个端口

```
389即通用端口
636即加密通讯端口，也就是openldaps(openldap里的ssl传输）
```

2）openldap自带数据库

BDB，即openldap自带的berkeley db，它是一个嵌入式的数据库，openldap的一些存储依赖于这个选项。数据库超级用户密码，保持其default值叫"secret"即可。

注：其他的都只需默认即可

3）window服务

装完后会自动在windows的服务器安装一个openldap的service。

![](/images/work/cas/ldap/openldap-service.png)

### 设置Openldap

修改配置文件OPENLDAP_HOME/slapd.conf

```
include     ./schema/core.schema  
include     ./schema/cosine.schema  
include     ./schema/nis.schema  
include     ./schema/inetorgperson.schema  
include     ./schema/openldap.schema  
include     ./schema/dyngroup.schema 
```

注：确保上面的配置不被注释掉。这些是openldap的依赖库文件。