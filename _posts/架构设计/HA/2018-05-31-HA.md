---
title: 高可用
tags: [architecture]
---

参考：https://blog.csdn.net/tjiyu/article/details/52643096

1）高可用

高可用集群（High Availability Cluster，简称HA Cluster），是指以减少服务中断时间为目的的服务器集群技术。它通过保护用户的业务程序对外不间断提供的服务，把因软件、硬件、人为造成的故障对业务的影响降低到最小程度。

2）高可用衡量指标

通常用平均无故障时间(MTTF)来度量系统的可靠性,用平均故障维修时间（MTTR）来度量系统的可维护性。于是可用性被定义为：HA=MTTF/(MTTF+MTTR)*100%。

```
        描述              通俗叫法            可用性级别           年度停机时间

        基本可用性           2个9                 99%                 87.6小时

        较高可用性           3个9                 99.9%               8.8小时

具有故障自动恢复能力的可用性   4个9                99.99%               53分钟

        极高可用性           5个9                 99.999%             5分钟
```

3）原理

高可用集群主要实现自动侦测(Auto-Detect)故障、自动切换/故障转移(FailOver)和自动恢复(FailBack)。

具体查看HA-principal文档。

4）高可用集群工作模型(常见模式)

a.Active/Passive(主备模型)

一个活动主节点，另一个不活动作为备用节点，当主节点故障，转移到备节点，这时备节点就成为了主节点。备节点完全冗余，造成一定浪费。

b.Active/Active(双主模型)

两个节点都是活动的，两个节点运行两个不同的服务，也互为备用节点，同时也可以提供同一个服务。这种模型可以使用比较均衡的主机配置，不会造成浪费。

c.N+1

N个活动主节点（提供N个服务），一个备用节点。这需要额外的备用节点必须能够代替任何主节点，当任何主节点故障时，备节点能够负责它的角色对外提供相应的服务。


