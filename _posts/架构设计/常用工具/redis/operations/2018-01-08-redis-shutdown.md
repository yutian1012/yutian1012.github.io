---
title: redis关闭
tags: [redis]
---

参考：Redis 4.x Cookbook 中文版 

关闭服务方式

```
./bin/redis-cli shutdown
```

强烈建议使用shutdown命令停止Redis服务的原因在于，如果我们关心数据一致性且配置了数据持久化来将内存中的数据保存到磁盘中（Redis数据持久化将在第6章持久化中讨论），那么shutdown命令发出后，除了终结进程外，还会执行一系列的其他操作。

首先，redis-server会停止响应客户端的连接；

然后，如果启用了持久化，则会执行数据持久化操作。

之后，如果.pid文件和socket套接字文件描述符存在的话，则对其进行清理，并最终退出进程。

注：通过这种策略，Redis会尽可能地防止数据丢失。相反，如果粗暴地使用kill命令来终止redis-server进程，那么由于在服务端关闭之前数据可能尚未被持久化而导致数据丢失。