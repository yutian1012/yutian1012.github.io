---
title: CORBA原理分析
tags: [architecture]
---

### 原理分析

![](/images/middleware/corba/corba-operation.png)

1）IDL桩（stub）和动态调用接口（DII）

IDL桩（客户端）在这里所起到主要作用是把请求从特定的编程语言的表示形式转换为适于传递到目标对象的形式（IDL语言的形式）。IDL桩是由IDL编译器编译目标对象的IDL接口描述文件（.idl文件）而自动产生的（jdk提供了一个idlj命令）。

注：IDL桩又被称为静态调用接口。

2）IDL架构（skeleton）和动态架构接口（DSI）

IDL架构（服务器端）查找并将请求派发（dispatch）到所要求目标对象的相应操作；对调用请求的参数进行解码，从传输格式转化为对象实现所使用的编程语言的表示信息；对调用请求的处理结果进行编码，从对象实现所使用的编程语言的表示形式转换为传输格式。

3）对象适配器OA（object Adapter）

对象适配器OA位于服务对象实现和ORB之间，提供对象登记，对象引用生成，服务激活等功能。CORBA2.0规范中定义了基本对象适配器BOA，以满足大多数对象实现的需要。

基本对象适配器功能：产生和解释对象引用；对象请求进行认证；激活和去活实现；激活和去活单个对象；架构调用方法；实现对象的登记。

4）可移植对象适配器POA（Portable Object Adapter）

在CORBA2.3规范中提出的，以取代基本对象适配器BOA。因为BOA在CORBA服务器中不易在ORBs之间移植。

每一个CORBA服务器可以有多个POAs，每个POA可以提供不同的功能或者支持不同的特性。而且每个POA都提供了一个独立的对象生存空间，相应有一套POA策略来决定这些寄存的对象如何被激活以及如何建立对象的参考。