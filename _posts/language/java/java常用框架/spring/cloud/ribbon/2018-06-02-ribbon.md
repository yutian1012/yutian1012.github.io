---
title: ribbon负载均衡
tags: [spring]
---

ribbon实现的是一套客户端的负载均衡工具。在微服务或分布式集群中经常用到的一种应用。

简单的说，ribbon是Netflix发布的开源项目，主要功能是提供客户端的软件负载均衡算法，将netflix的中间层服务连接在一起。ribbon客户端组件提供一系列完善的配置项，入连接超时，重试等。

通过在配置文件中列出load-balancer（LB）服务层的所有机器，ribbon会自动的帮助我们基于某种规则（如简单轮询，随机连接等）去连接这些服务器。

1）负载均衡的理解

a.负载均衡

负载均衡简单的说就是将用户的请求平摊的分配到度过哦哦服务器上，从而达到系统的HA。

常见的负载均衡软件有Nginx，LVS，硬件F5等。相应的在中间件（入dubbo和springCloud）中也提供了负载均衡。

注：sringcloud的负载均衡算法可以实现自定义。

b.负载均衡的分类：

包括两类：集中式LB（偏硬件）和进程内LB（偏软件）。

集中式LB，即在服务的消费方和提供方之间使用独立的LB设施（可以是硬件，如F5，也可以提供软件，入nginx），由该设施负载吧访问请求通过某种策略转发至服务的提供方。

进程内LB，将LB逻辑集成到消费方，消费方从服务注册中心获知有哪些地址可用，然后自己再从这些地址中选择出一个合适的服务器。

注：ribbon就属于进程内LB，它只是一个类库，集成于消费方进程，消费方通过它来获取到服务提供方的地址。