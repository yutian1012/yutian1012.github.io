---
title: 微服务与单一系统的比较
tags: [spring]
---

### 微服务系统与单一系统的比较

1）优点

a.内聚性

每个服务足够内聚，足够小，代码容易理解，能够聚焦一个指定的业务功能或业务需求；

b.开发效率

开发简单、开发效率高，一个服务可能就是专一的只干一件事。

c.开发团队轻量

微服务能够被小团队单独开发，这个小团队是2到5人的开发人员组成。

d.依赖更低

微服务是松耦合的，是有功能意义的服务，无论是在开发阶段或部署阶段都是独立的，防止对其他模块带来污染。

e.多语言

微服务能使用不同的语言开发。

f.易于集成

微服务易于和第三方集成，微服务允许容易且灵活的方式集成自动部署，通过持续集成工具，如Jenkins，Hudson，bamboo。

g.方便维护

微服务易于别一个开发人员理解，修改和维护，这样小团队能够更关注自己的工作成果。无需通过合作才能体现价值。

h.前后端分离

微服务只是业务逻辑的代码，不会和Html，css或其他界面组件混合。

i.存储能力

每个微服务都有自己的存储能力，可以有自己的数据库，也可以有统一的数据库。

2）缺点（主要是从单一变到多个角度问题）

a.开发角度

开发人员要处理分布式系统的复杂性

b.运维角度

多服务运维难度，随着服务的增加，运维的压力也在增大

c.通信成本

服务间通信成本增加

d.分布式事务

数据一致性（分布式事务，难点）

e.集成测试

系统集成测试更困难

f.监控

服务性能和健康的监控，需要单独的管理，原来只需要管理一个即可。

### 场景分析

1）依赖的影响

单一系统，一个模块出现问题，会影响到整个系统的运行。微服务系统针对依赖问题引入了断路器，防止出现系统雪崩。

2）开发与运维

单一系统，开发过程中伴随着整个系统的所有人员的沟通和协作，最终要整合到一起来运行。一般是通过maven分成多个模块，每个模块定义接口，交由不同的开发团队开发。而微服务天生由多模块组成，并且能够独立部署，通过各个模块暴露的服务接口（Resutful api）进行协作。

另外，从维护角度来讲，单一系统的维护成本更大，错综复杂的业务逻辑耦合在一个系统中对后期维护造成很大的影响。并且，修改一处需要对整个系统进行重新编译，部署。而微服务能够针对相应的服务进行单独修改，测试，并单独部署，不影响其他服务的运行。

3）资源利用率

单一系统，整个系统属于一个整体服务，不可拆分。针对某一个业务模块的负载过大，要进行整体的集群部署，造成不需要扩展资源的业务模块也会别扩展，从而占用过多的资源。而微服务能够对单独的服务进行横向的扩展集群化，级有针对性的添加资源，而不会造成更多资源的浪费。