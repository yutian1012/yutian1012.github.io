---
title: 系统分析师（软考）--总线
tags: [analysis]
---

参考：https://www.zhihu.com/question/29723949?sort=created

计算机的cpu由两个部分组成，一个是控制单元，另一个是算术逻辑单元，cpu的控制单元负责计算机各个组件的协调与沟通，什么是沟通？就是数据传输，比如输入设备将信息传输到主存储器中，主存储器将数据传输到cpu中，cpu计算结果输出到输出设备等等。而cpu的算术逻辑主要是进行逻辑上的运作，判断等，比如加减乘除运算。

### 系统总线

cpu只负责运算和协调控制各个组件，那么它所需要的数据从哪里来呢？答案是从主存储器那里来，输入设备会将用户输入的数据传输到主存储器中，然后主存储器又会将数据传输到cpu中，那么这个传输是通过谁来进行的的呢？是通过主板的总线，对总线就是用来进行数据传输的，通常来说，计算机要控制和协调各个组件，需要通过主板来进行，如果cpu是大脑，那么主板就好像神经系统一样（鸟哥说的^_^），主板最重要的组件是一个芯片组，这个芯片组就是北桥和南桥了，主板的北桥负责实现主存储器（RAM）、显示适配器（就是显卡嘛）及cpu的沟通，主存储器要将数据传输给cpu就是要通过北桥的啦，然后再通过北桥连往cpu的总线，将数据传给cpu（这是Intel的构架，AMD直接将主存储器和cpu连接而不通过北桥），北桥通往cpu的总线，因为需要连接主存储器和显示适配器等，因此需要极高的速度，我们把这条总线称之为系统总线，总线一次能传输的数据一般是32bit和64bit两种，而这些连接北桥通往cpu的设备，又有一个用来衡量传输能力的标准，叫做外频，举个例子，如果外频是333MHz的话，就意味著这些连接北桥的设备，每秒进行3.33*10^8次传输，计算机中还有一个被固定死的倍频，cpu的主频（及每秒运作多少次）=外频*倍频，据说这个概念是为了协调高速cpu与低速外部设备而设计的。外部设备的每秒数据传输量=每秒传输多少次*总线宽度即可得之。

### IO总线

下面来说一下南桥，南桥和北桥一样，也是用来连接计算机设备的，主要是连接低速的网卡，USB设备，音频，硬盘等设备，连接这些设备也是由一条总线牵连，我们叫做I/O总线，至于PCI，PCI-Express是啥？我们就拿PCI-Express说事吧，PCI-Express就是总线接口，从主板表面上看，就是主存储器，显示适配器的插槽嘛，PCI-Express是新一代的总线接口，用来取代老式的PCI，AGP等，别小看这个东东，他影响着数据的传输速度哦，现在很多硬件都是往匹配PCI-Express方向发展，SATA是啥？和IDE插槽一样，是用来连接硬盘设备的。

![](/images/book/tech-analysis/os/bus.png)

### 3类总线在计算机中的关系

![](/images/book/tech-analysis/os/3bus.png)

1）片总线(Chip Bus, C-Bus)

2）内总线(Internal Bus, I-Bus)包括数据总线DB（Data Bus）、地址总线AB（Address Bus）和控制总线CB（Control Bus）。

3）外总线(External Bus, E-Bus)

### 总线仲裁

参考：http://blog.csdn.net/hushup/article/details/21709221

1）总线主设备

总线主设备是指具有控制总线能力的模块，通常是CPU或以CPU为中心的逻辑模块，在获得总线控制权之后能启动数据信息的传输

2）总线从设备

总线从设备，是指能够对总线上的数据请求做出响应，但本身不具备总线控制能力的模块。

3）定义

总线仲裁就是在多个总线主设备的环境中提出来的。在多处理机系统中，每个处理机都可以作为总线主设备，都要共享资源，它们都必须通过系统总线才能访问其它资源，总线也可视为是一种重要的公共资源。由于每个处理机都会随机地提出对总线使用的要求，这样就可能发生总线竞争现象。为了防止多个处理机同时控制总线，就要在总线上设立一个处理上述总线竞争的机构，按优先级次序，合理地分配资源，这就是总线仲裁问题。用硬件来实现总线分配的逻辑电路称为总线仲裁器（Bus Arbiter）。它的任务是响应总线请求，通过对分配过程的正确控制，达到最佳使用总线。
