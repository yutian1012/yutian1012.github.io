---
title: BloomFilter实现爬虫数据更新策略
tags: [java]
---

布隆过滤器：具有很好的空间和时间效率，被用来检测一个元素是不是集合中的一个成员。如果检测结果为是，该元素不一定在集合中；但如果检测结果为否，该元素一定不在集合中。

在爬虫进行爬取数据时，一般返回的数据都是所有的数据集。而系统累计的爬取数据量已经包含了很大一部分，需要对某些数据进行更新，某些数据进行插入，而某些数据是不需要额外处理的。而且这部分不需要额外处理的数据占大多数。

更新策略

1）对数据进行哈希值计算

2）根据哈希值进行布隆过滤器过滤（找到不在）

3）对于不在集合中的数据，需要执行插入操作。

4）对于在集合中的数据（不一定正确），也需要进行处理，失去了布隆过滤器的作用。

返回true，但实际数据可能并不在集合中，而这些不在集合中的数据，是需要更新到系统中的，如果不处理则不符合要求。如果处理，那么布隆过滤器就没有存在的意义了。


注：保证了集合数据的判断，true则不一定，false则一定不。主要是利用false的一定不策略，来判断元素不在集合中。

注2：针对某一类数据需单独制定自己的布隆过滤器，而不是将所有的数据都应用到同一个布隆过滤器中。

注3：布隆过滤器适合处理在集合中则予以处理的场景，如缓存穿透问题。并不适合这种在集合中则不处理的情景。