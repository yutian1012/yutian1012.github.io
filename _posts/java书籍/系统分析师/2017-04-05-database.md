---
title: 系统分析（软考）--数据库设计三范式
tags: [analysis]
---

### 1. 第一范式（1NF）

所谓第一范式（1NF）是指数据库表的每一列都是不可分割的基本数据项（不能将员工信息都放在一列中显示，也不能将其中的两列或多列在一列中显示）。同一列中不能有多个值（人员表的联系电话存在多值时），即实体中的某个属性不能有多个值或者不能有重复的属性。如果出现重复的属性，就可能需要定义一个新的实体，新的实体由重复的属性构成，新实体与原实体之间为一对多关系。

注：数据库表中的字段都是单一属性的，不可再分

### 2.  第二范式（2NF）

满足第二范式（2NF）必须先满足第一范式（1NF）。涉及主键设置和

1）要求数据库表中的每个实例或记录必须可以被唯一地区分。选取一个能区分每个实体的属性或属性组，作为实体的唯一标识（设置主键）。

2）要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性。

### 3. 第三范式（3NF）

要求一个关系中不包含已在其它关系已包含的非主关键字信息。

例如，存在一个部门信息表，其中每个部门有部门编号（dept_id）、部门名称、部门简介等信息。那么在员工信息表中列出部门编号后就不能再将部门名称、部门简介等与部门有关的信息再加入员工信息表中。

注：在2NF基础上消除传递依赖

### 4. 实例分析

学校的学生系统为例分析说明

1）分析：

设计的内容包括：学号、学生姓名、年龄、性别、课程名称、课程学分、系别、学科成绩，系办地址、系办电话等信息。

问题思考：

学生有那些基本信息？学生选了那些课，成绩是什么？每个课的学分是多少？学生属于那个系，系的基本信息是什么？

2）设计表，第一范式很容易就能满足

把所有这些信息放到一个表中（学号，学生姓名、年龄、性别、课程、课程学分、系别、学科成绩，系办地址、系办电话）。

存在问题：

（1）数据冗余：

同一门课程由n个学生选修，"学分"就重复n-1次；同一个学生选修了m门课程，姓名和年龄就重复了m-1次。

（2）更新异常：

若调整了某门课程的学分，数据表中所有行的"学分"值都要更新，否则会出现同一门课程学分不同的情况。

假设要开设一门新的课程，暂时还没有人选修。这样，由于还没有"学号"关键字，课程名称和学分也无法记录入数据库。

（3）删除异常：

假设一批学生已经完成课程的选修，这些选修记录就应该从数据库表中删除。但是，与此同时，课程名称和学分信息也被删除了。很显然，这也会导致插入异常。

3）改造满足第二范式

学生：Student（学号，姓名，年龄，性别，系别，系办地址、系办电话）

课程：Course（课程名称,学分）

选课关系：SelectCourse（学号，课程名称，成绩）

4）改造满足第三范式

传递依赖问题：

（学号）→ （姓名，年龄，性别，系别，系办地址、系办电话）

但是还存在下面的决定关系：

（学号） → (系别）→（系办地点，系办电话）

即存在非关键字段"系办地点"、"系办电话"对关键字段"学号"的传递函数依赖。

解决方法：

根据第三范式把学生关系表分为如下两个表就可以满足第三范式了

学生：（学号，姓名，年龄，性别，系别）；

系别：（系别，系办地址、系办电话）。

