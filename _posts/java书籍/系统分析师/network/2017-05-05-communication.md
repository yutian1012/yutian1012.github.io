---
title: 系统分析师（软考）--网络通信
tags: [analysis]
---

参考：http://blog.csdn.net/zhaojian3513012/article/details/46440599

### 1. 通信方式

计算机网络上三种基本的通信方式：单播、组播、广播是。

1）单播

单播是相互感兴趣的主机双方进行通信的方式，主机不能接收对其不感兴趣的其它主机发送的信息，属于点对点通信。

注：主机对主机发送和接收信息

2）广播

广播是主机向子网内所有主机发送信息，子网内所有主机都能收到来自某台主机的广播信息，属于点对所有点的通信。

3）组播

组播则介于两者之间，是主机向一组主机发送信息，存在于某个组的所有主机都可以接收到信息，属于点对多点通信。

注：从这个意义上讲，广播可以认为是组范围最大化的组播。当然，二者还是存在显著区别的：首先，广播被限制在子网内，不会被路由器转发。其次，主机被默认为是接收者，而组播方式则需要主机主动加入。

### 2. IP组播/多播

IP组播最早的应用是音频/视频会议。但音频/视频会议只是众多IP组播应用之一。除此之外，还包括数据分发，实时数据组播，以及游戏和仿真应用等。

1）定义

组播也是一种IP包，也有源IP地址，目的IP地址，源IP地址为组播源的服务器IP地址，目的地址为一个特殊的IP地址，它位于 224.0.0.0-239.255.255.255中，由于224.0.0.0/8用于本地链路，即一跳的组播，239.0.0.0/8为私有组播地址，所以实际的可用于在互联网上组播地址是225.0.0.0/8 - 238.0.0.0/8，这个组播地址不属于任何服务器或个人，它有点类似一个微信群号，任何成员（组播源）往微信群（组播IP）发送消息（组播数据），这个群里的成员（组播接收者）都会收到此消息。

2）意义

当有90个主机接收视频数据时，不使用多播时需要发送90次单播。而使用多播时只需要发送1次数据包即可。

![](/images/book/tech-analysis/net/single-dispatch.png)

![](/images/book/tech-analysis/net/multiple-dispatch.png)

3）特点

（1）多播使用组地址——IP使用D类地址支持多播。多播地址只能用于目的地址，而不能用于源地址；

（2）动态的组成员；

（3）使用硬件进行多播。

4）协议

IGMP协议：为了使路由器知道多播组成员的信息，需要利用网际组管理协议 IGMP (Internet Group Management Protocol)。

多播路由选择协议：连接在局域网上的多播路由器还必须和因特网上的其他多播路由器协同工作，以便把多播数据报用最小代价传送给所有的组成员。这就需要使用多播路由选择协议。 

### 3. 实例

IPTV就是组播的应用：

1）需求描述

IPTV里的一个电视频道对应一个组播IP，假设CCTV1对应的组播IP=238.1.1.1（组播地址不能做目的地址），IPTV节目源IP=1.1.1.1（组播源的IP地址），就以238.1.1.1为目的地址封装发送。用户IPTV机顶盒只知道节目组播地址为238.1.1.1，至于谁是这个节目源（IP=1.1.1.1）并不清楚。

注：网络上的主机都是通过IP地址进行定位的，组播地址不能做目的地址，必须转换为IP地址。

2）两个问题需要解决

IPTV组播源不知道收看此节目的用户（组播接收者）在哪里？

收看此节目的用户不知道IPTV组播源（组播数据报发送者）在哪里？

3）用户找组播源

首先是组播源的注册：引入一个中介机构RP（Rendezvous Point），即PR点（组播的汇聚点），假设RP的IP地址为2.2.2.2。组播源通过单播隧道的方式把组播238.1.1.1发送给RP，这个过程称为组播源的注册。

申请加入组播：机顶盒静态配置了RP的IP地址2.2.2.2，知道RP会有组播数据，于是就像RP（2.2.2.2）申请加入这个238.1.1.1的组，于是RP就把自己收到的注册组播源数据发送给机顶盒，这个就是基于RP的树（RPT）。机顶盒收到第一个组播包，定睛一看，原来组播源是1.1.1.1，于是发一个申请给1.1.1.1，申请加入238.1.1.1，这就是基于源的树（SPT），既然加入了SPT，就不需要RPT了，向RP申请退出就可以了。

注：组播用户会加入路径更优的SPT树，会申请退出路径不是最优的RPT树，避免收到两份组播的复制。

参考：http://blog.csdn.net/langeldep/article/details/6167137
