---
title: 数据处理--OLAP与OLTP的比较
tags: [BI]
---

### OLAP与OLTP

OLAP（On-line Analytical Processing，联机分析处理）是在基于数据仓库多维模型（主要有星型模型和雪花模型2种）的基础上实现的面向分析的各类操作的集合。

1）OLAP与OLTP的比较：

数据处理类型    OLTP                      OLAP
面向对象        业务开发人员              分析决策人员
功能实现        日常事务处理              面向分析决策
数据模型        关系模型                  多维模型
数据量          几条或几十条记录          百万千万条记录
操作类型        查询、插入、更新、删除    查询为主

2）适应场景：

联机分析处理（OLAP,On-line Analytical Processing），数据量大，DML少。

联机事务处理（OLTP,On-line Transaction Processing），数据量少，DML频繁，并行事务处理多，但是一般都很短。

### OLAP与OLTP分开设计与优化

在设计上要特别注意，如在高可用的OLTP环境中，不要盲目地把OLAP的技术拿过来用。

1）分区技术

在分区技术中，假设不是大范围地使用分区关键字，而采用其它的字段作为where条件，那么，如果是本地索引，将不得不扫描多个索引，而性能变得更为低下。如果是全局索引，又失去分区的意义。

2）并行技术

并行技术也是如此，一般在完成大型任务时才使用，如在实际生活中，翻译一本书，可以先安排多个人，每个人翻译不同的章节，这样可以提高翻译速度。如果只是翻译一页书，也去分配不同的人翻译不同的行，再组合起来，就没必要了，因为在分配工作的时间里，一个人或许早就翻译完了。

3）位图索引

位图索引也是一样，如果用在OLTP环境中，很容易造成阻塞与死锁。但是，在OLAP环境中，可能会因为其特有的特性，提高OLAP的查询速度。

4）物化视图MV(Materialized View)

MV也是基本一样，包括触发器等，在DML频繁的OLTP系统上，很容易成为瓶颈，甚至是Library Cache等待，而在OLAP环境上，则可能会因为使用恰当而提高查询速度。